{"version":3,"file":"static/js/341.d080f99e.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","components/Utils/Api.jsx","components/servise/servise.js","webpack://react-homework-template/./src/page/Movies/Movies.module.css?e724","page/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item_film\":\"MoviesList_item_film__FP8jq\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link, useLocation } from \"react-router-dom\";\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ movies }) => {\n    const location = useLocation();\n\n    return (\n    <ul className={css.item_film}>\n        {movies.map((movie) => (\n        <li className={css.item} key={movie.id}>\n            <Link\n            className={css.link}\n            to={{ pathname: `/movies/${movie.id}`, state: { from: location } }}\n            >\n            {movie.title}\n            </Link>\n        </li>\n        ))}\n    </ul>\n    );\n}\n\nexport default MoviesList;","\nimport axios from \"axios\";\nimport { API_KEY, BASE_URL } from \"components/servise/servise\";\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results; \n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieSearch = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n};","export const API_KEY = 'e2461c3c5366673fc196ad29d85aaa39';\nexport const BASE_URL = `https://api.themoviedb.org/3`;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Movies_button__UA9jN\",\"input\":\"Movies_input__3JANh\"};","import  { useState, useEffect} from 'react';\nimport { useNavigate,useLocation  } from 'react-router-dom';\nimport { fetchMovieSearch } from 'components/Utils/Api';\nimport css from './Movies.module.css';\nimport MoviesList from 'components/MoviesList/MoviesList';\n\nfunction Movies() {\n    const [query, setQuery] = useState('');\n    const [movies, setMovies] = useState([]);\n    const [searched, setSearched] = useState(false);\n    const navigate = useNavigate();\n    const location = useLocation();\n\n    const searchMovies = async () => {\n    const results = await fetchMovieSearch(query);\n        setMovies(results);\n        localStorage.setItem('searchResults', JSON.stringify(results));\n        navigate(`/movies?query=${encodeURIComponent(query)}`);\n        setSearched(true);\n    };\n\n    useEffect(() => {\n    const storedResults = localStorage.getItem('searchResults');\n        if (storedResults) {\n        setMovies(JSON.parse(storedResults));\n        }\n      const searchParams = new URLSearchParams(window.location.search);\n      const searchQuery = searchParams.get('query');\n        setQuery(searchQuery || '');\n  }, [location.search]);\n    \n    useEffect(() => {\n    const handleBeforeUnload = () => {\n      localStorage.removeItem('searchResults');\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n    \n  \n    useEffect(() => {\n      setQuery('');\n      setSearched(false);\n  }, []);\n\n    return (\n    <div>\n        <input  className={css.input} type=\"text\" defaultValue={query} onChange={(e) => setQuery(e.target.value)} />\n        <button className={css.button} onClick={searchMovies}>Search</button>\n        {movies.length > 0 || !searched ? (\n        <MoviesList movies={movies} />\n      ) : (\n        <p>No movies found.</p>\n      )}\n    </div>\n    );\n}\n\nexport default Movies;\n\n"],"names":["movies","location","useLocation","className","css","map","movie","to","pathname","id","state","from","title","axios","api_key","language","fetchTrendingMovies","data","results","console","log","error","fetchMovieCredits","movieId","cast","fetchMovieReviews","fetchMovieSearch","query","fetchMovieDetails","useState","setQuery","setMovies","searched","setSearched","navigate","useNavigate","searchMovies","localStorage","setItem","JSON","stringify","encodeURIComponent","useEffect","storedResults","getItem","parse","searchQuery","URLSearchParams","window","search","get","handleBeforeUnload","removeItem","addEventListener","removeEventListener","type","defaultValue","onChange","e","target","value","onClick","length","MoviesList"],"sourceRoot":""}