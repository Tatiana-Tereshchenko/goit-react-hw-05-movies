{"version":3,"file":"static/js/341.e66edd03.chunk.js","mappings":"+SAIAA,EAAAA,EAAAA,SAAAA,QCHqB,+BDIrBA,EAAAA,EAAAA,SAAAA,OAAwB,CACpBC,QCNmB,mCDOnBC,SAAU,SAGP,IAAMC,EAAmB,mCAAG,+GAERH,EAAAA,EAAAA,IAAU,uBAFF,uBAEvBI,EAFuB,EAEvBA,KAFuB,kBAGxBA,EAAKC,SAHmB,uCAK/BC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OALG,kBAMxB,IANwB,yDAAH,qDAUnBC,EAAiB,mCAAG,WAAMC,GAAN,kGAENV,EAAAA,EAAAA,IAAA,iBAAoBU,EAApB,aAFM,uBAErBN,EAFqB,EAErBA,KAFqB,kBAGtBA,EAAKO,MAHiB,uCAK7BL,QAAQC,IAAI,QAAS,CAAEC,MAAK,OALC,kBAMtB,IANsB,yDAAH,sDAUjBI,EAAiB,mCAAG,WAAMF,GAAN,kGAENV,EAAAA,EAAAA,IAAA,iBAAoBU,EAApB,aAFM,uBAErBN,EAFqB,EAErBA,KAFqB,kBAGtBA,EAAKC,SAHiB,uCAK7BC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OALC,kBAMtB,IANsB,yDAAH,sDAUjBK,EAAgB,mCAAG,WAAMC,GAAN,kGAELd,EAAAA,EAAAA,IAAA,8BAAiCc,IAF5B,uBAEpBV,EAFoB,EAEpBA,KAFoB,kBAIrBA,EAAKC,SAJgB,uCAM5BC,QAAQC,IAAI,QAAS,CAAEC,MAAK,OANA,kBAOrB,IAPqB,yDAAH,sDAUhBO,EAAiB,mCAAG,WAAML,GAAN,kGAENV,EAAAA,EAAAA,IAAA,iBAAoBU,IAFd,uBAErBN,EAFqB,EAErBA,KAFqB,kBAGtBA,GAHsB,uCAK7BE,QAAQC,IAAI,QAAS,CAAEC,MAAK,OALC,kBAMtB,MANsB,yDAAH,qD,qIEjD9B,EAAyB,uBAAzB,EAAwD,sBAAxD,EAAqF,qBAArF,EAAiH,qBAAjH,EAAkJ,0B,SCkDlJ,MA9CA,WACI,OAA0BQ,EAAAA,EAAAA,UAAS,IAAnC,eAAOF,EAAP,KAAcG,EAAd,KACA,GAA4BD,EAAAA,EAAAA,UAAS,IAArC,eAAOE,EAAP,KAAeC,EAAf,KAEMC,EAAY,mCAAG,qGACCP,EAAAA,EAAAA,IAAiBC,GADlB,OACfT,EADe,OAEjBc,EAAUd,GACVgB,aAAaC,QAAQ,gBAAiBC,KAAKC,UAAUnB,IACnDY,EAAS,IAJM,2CAAH,qDA2BlB,OApBAQ,EAAAA,EAAAA,YAAU,WACV,IAAMC,EAAgBL,aAAaM,QAAQ,iBACnCD,GACJP,EAAUI,KAAKK,MAAMF,GAGxB,GAAE,KAEHD,EAAAA,EAAAA,YAAU,WACV,IAAMI,EAAqB,WACzBR,aAAaS,WAAW,gBACzB,EAID,OAFAC,OAAOC,iBAAiB,eAAgBH,GAEjC,WACLE,OAAOE,oBAAoB,eAAgBJ,EAC5C,CACF,GAAE,KAGD,4BACI,kBAAOK,UAAWC,EAAWC,KAAK,OAAOC,MAAOvB,EAAOwB,SAAU,SAACC,GAAD,OAAOtB,EAASsB,EAAEC,OAAOH,MAAzB,KACjE,mBAAQH,UAAWC,EAAYM,QAASrB,EAAxC,qBACA,eAAIc,UAAWC,EAAf,SACKjB,EAAOwB,KAAI,SAACC,GAAD,OACR,eAAIT,UAAWC,EAAf,UACI,SAAC,KAAD,CAAMD,UAAWC,EAAUS,GAAE,kBAAaD,EAAME,IAAhD,SAAuDF,EAAMG,SADnCH,EAAME,GAD5B,QAQvB,C","sources":["components/Utils/Api.jsx","components/servise/servise.js","webpack://react-homework-template/./src/page/Movies/Movies.module.css?e724","page/Movies/Movies.jsx"],"sourcesContent":["\nimport axios from \"axios\";\nimport { API_KEY, BASE_URL } from \"components/servise/servise\";\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n    api_key: API_KEY,\n    language: 'en-US',\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const { data } = await axios.get('/trending/movie/day');\n    return data.results; \n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieCredits = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/credits`);\n    return data.cast;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}/reviews`);\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport const fetchMovieSearch = async query => {\n  try {\n    const { data } = await axios.get(`/search/movie?query=${query}`);\n\n    return data.results;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const { data } = await axios.get(`/movie/${movieId}`);\n    return data;\n  } catch (error) {\n    console.log('error', { error });\n    return null;\n  }\n};","export const API_KEY = 'e2461c3c5366673fc196ad29d85aaa39';\nexport const BASE_URL = `https://api.themoviedb.org/3`;","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Movies_button__UA9jN\",\"input\":\"Movies_input__3JANh\",\"link\":\"Movies_link__vBXNp\",\"item\":\"Movies_item__bDgxe\",\"item_film\":\"Movies_item_film__dlgyg\"};","import React, { useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchMovieSearch } from 'components/Utils/Api';\nimport css from './Movies.module.css';\n\nfunction Movies() {\n    const [query, setQuery] = useState('');\n    const [movies, setMovies] = useState([]);\n\n    const searchMovies = async () => {\n    const results = await fetchMovieSearch(query);\n        setMovies(results);\n        localStorage.setItem('searchResults', JSON.stringify(results));\n          setQuery('');\n    };\n\n    useEffect(() => {\n    const storedResults = localStorage.getItem('searchResults');\n        if (storedResults) {\n        setMovies(JSON.parse(storedResults));\n        }\n      \n    }, []);\n    \n    useEffect(() => {\n    const handleBeforeUnload = () => {\n      localStorage.removeItem('searchResults');\n    };\n\n    window.addEventListener('beforeunload', handleBeforeUnload);\n\n    return () => {\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n  }, []);\n    \n    return (\n    <div>\n        <input className={css.input} type=\"text\" value={query} onChange={(e) => setQuery(e.target.value)} />\n        <button className={css.button} onClick={searchMovies}>Search</button>\n        <ul className={css.item_film}>\n            {movies.map((movie) => (\n                <li className={css.item} key={movie.id}>\n                    <Link className={css.link} to={`/movies/${movie.id}`}>{movie.title}</Link>\n                </li>\n            ))}\n        </ul>\n    </div>\n    );\n}\n\nexport default Movies;"],"names":["axios","api_key","language","fetchTrendingMovies","data","results","console","log","error","fetchMovieCredits","movieId","cast","fetchMovieReviews","fetchMovieSearch","query","fetchMovieDetails","useState","setQuery","movies","setMovies","searchMovies","localStorage","setItem","JSON","stringify","useEffect","storedResults","getItem","parse","handleBeforeUnload","removeItem","window","addEventListener","removeEventListener","className","css","type","value","onChange","e","target","onClick","map","movie","to","id","title"],"sourceRoot":""}